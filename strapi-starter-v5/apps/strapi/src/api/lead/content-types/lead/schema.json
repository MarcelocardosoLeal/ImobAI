{
  "kind": "collectionType",
  "collectionName": "leads",
  "info": {
    "singularName": "lead",
    "pluralName": "leads",
    "displayName": "Lead",
    "description": ""
  },
  "options": {
    "draftAndPublish": false
  },
  "attributes": {
    "name": { "type": "string" },
    "email": { "type": "email" },
    "cliente_intencao": { "type": "string" },
    "imovel_pretendido": { "type": "string" },
    "localizacao_preferida": { "type": "string" },
    
    "whatsapp": { "type": "string", "required": true, "unique": true },
    "estagio": {
      "type": "enumeration",
      "enum": ["novo", "qualificado", "agendado", "visitou", "perdido", "convertido"],
      "default": "novo",
      "required": true
    },
    "consentimento": { "type": "boolean", "default": false },
    "consentimento_at": { "type": "datetime" },
    "retornar_em": { "type": "datetime" },
    "visita_data": { "type": "date" },
    "visita_hora": { "type": "time" },
    "preferencia_horario": {
      "type": "enumeration",
      "enum": ["manha", "tarde", "noite", "indiferente"],
      "default": "indiferente"
    },
    "assigned_agent": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "api::agente.agente",
      "inversedBy": "leads"
    },
    "ultimo_contato": { "type": "datetime" },
    "reminder_count": { "type": "integer", "default": 0 },
    "origem_campanha": { "type": "string" }
  }
}